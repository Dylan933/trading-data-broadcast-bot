# 动量数据播报机器人需求文档 V0.1.1 - 重新整理版

## 📋 项目基本信息
- **项目名称**：动量数据播报机器人
- **版本**：V0.1.1 重新整理版
- **创建时间**：2025-01-19
- **维护人员**：Will
- **文档状态**：最新版本

---

## 🎯 核心需求概述

### 功能层次结构

#### 第一层：基础技术分析播报
- **触发时间**：每个新加坡时间（UTC+8）整点
- **播报内容**：BTC、ETH、BNB 技术分析
- **播报频率**：24次/天（每小时一次）

#### 第二层：增强数据播报
- **触发时间**：仅在两个半球时间点
  - **12:00 UTC+8**（东半球时段结束）
  - **00:00 UTC+8**（西半球时段结束）
- **增强内容**：
  - 半球时间统计数据（12小时交易量和波动率）
  - 恐惧贪婪指数
  - 相对强弱分析（ETH/BTC、BNB/ETH）

#### 第三层：推送渠道
- **唯一渠道**：飞书机器人推送
- **取消渠道**：企业微信、HTML网页版

---

## 📊 详细功能规格

### 1. 基础技术分析播报

#### 数据源
- **交易所**：Binance
- **交易对**：
  - BTCUSDT
  - ETHUSDT  
  - BNBUSDT

#### 技术指标
- **趋势指标**：移动平均线、趋势方向
- **动量指标**：RSI、MACD
- **波动率指标**：ATR、布林带
- **成交量指标**：成交量变化

#### 播报格式
```
🕐 市场播报 (2025-01-19 14:00 UTC+8)

📈 BTC/USDT: $XX,XXX
- 趋势：[上涨/下跌/盘整]
- RSI：XX（[超买/正常/超卖]）
- 成交量：[放量/缩量]

📊 ETH/USDT: $X,XXX
- 趋势：[上涨/下跌/盘整]
- RSI：XX（[超买/正常/超卖]）
- 成交量：[放量/缩量]

🔸 BNB/USDT: $XXX
- 趋势：[上涨/下跌/盘整]
- RSI：XX（[超买/正常/超卖]）
- 成交量：[放量/缩量]
```

### 2. 增强数据播报

#### 半球时间统计
- **数据周期**：过去12小时
- **统计指标**：
  - 总交易量
  - 价格波动率
  - 最高/最低价格

#### 恐惧贪婪指数
- **数据源**：Alternative.me API
- **显示内容**：
  - 当前指数值（0-100）
  - 情绪状态（极度恐惧/恐惧/中性/贪婪/极度贪婪）
  - 更新时间

#### 相对强弱分析
- **分析对象**：
  - ETH/BTC 相对强弱
  - BNB/ETH 相对强弱
- **计算方法**：价格比率变化百分比

#### 增强播报格式
```
🌍 半球时段数据播报 (东半球时段 12:00 UTC+8)

📊 过去12小时统计：
- BTC 交易量：XXX万 USDT，波动率：X.X%
- ETH 交易量：XXX万 USDT，波动率：X.X%  
- BNB 交易量：XXX万 USDT，波动率：X.X%

😨 恐惧贪婪指数：XX (恐惧，更新于 2025-01-19 08:00)

💪 相对强弱：
- ETH/BTC：+X.X%（ETH相对强势）
- BNB/ETH：-X.X%（ETH相对强势）

[基础技术分析内容...]
```

### 3. 推送渠道规格

#### 飞书机器人集成
- **推送方式**：Webhook
- **消息格式**：富文本消息
- **错误处理**：失败重试机制
- **日志记录**：推送状态记录

---

## ⏰ 时间调度规格

### 基础播报时间表
```
00:00 UTC+8 - 增强播报（西半球时段数据）
01:00 UTC+8 - 基础播报
02:00 UTC+8 - 基础播报
...
11:00 UTC+8 - 基础播报
12:00 UTC+8 - 增强播报（东半球时段数据）
13:00 UTC+8 - 基础播报
...
23:00 UTC+8 - 基础播报
```

### 半球时段定义
- **东半球时段**：00:00-12:00 UTC+8
- **西半球时段**：12:00-24:00 UTC+8

---

## 🔧 技术实现要求

### 运行环境
- **平台**：GitHub Actions
- **语言**：Python 3.x
- **依赖**：requests>=2.31.0
- **调度**：Cron表达式（每小时触发）

### API集成
- **Binance API**：获取K线数据和技术指标
- **Alternative.me API**：获取恐惧贪婪指数
- **飞书 Webhook API**：消息推送

### 数据处理
- **技术指标计算**：基于K线数据计算RSI、MACD等
- **半球统计**：12小时数据聚合分析
- **相对强弱**：价格比率计算

### 错误处理
- **API失败**：重试机制和降级处理
- **数据异常**：异常检测和默认值处理
- **推送失败**：错误日志和告警机制

---

## 📈 成功标准

### 功能完整性
- ✅ 每小时准时播报基础技术分析
- ✅ 12:00和00:00 UTC+8 正确播报增强数据
- ✅ 飞书推送成功率 > 95%

### 数据准确性
- ✅ 技术指标计算准确
- ✅ 半球时段数据统计正确
- ✅ 恐惧贪婪指数实时更新

### 系统稳定性
- ✅ GitHub Actions 稳定运行
- ✅ API调用成功率 > 98%
- ✅ 异常情况优雅处理

---

## 🚫 明确排除的功能

### 不需要的推送渠道
- ❌ 企业微信推送
- ❌ HTML静态页面生成
- ❌ 其他第三方平台推送

### 不需要的功能模块
- ❌ Web界面
- ❌ 用户交互功能
- ❌ 历史数据存储
- ❌ 复杂的策略分析

---

## 📝 变更记录

### V0.1.1 重新整理版 (2025-01-19)
- **简化推送渠道**：仅保留飞书推送
- **明确播报层次**：基础播报 + 半球时段增强播报
- **优化时间调度**：明确UTC+8时区和半球时段定义
- **移除冗余功能**：取消网页版和企业微信推送

---

## 📞 联系信息

如有问题或需求变更，请联系项目维护人员：Will

---

*文档创建时间：2025-01-19 22:25*
*最后更新时间：2025-01-19 22:25*